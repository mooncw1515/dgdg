<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>시간표 및 수행평가</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%;
      background: linear-gradient(135deg, #ececec, #c3c3c3);
      font-family: 'Poppins', sans-serif;
      display: flex; justify-content: center; align-items: flex-start;
      padding: 40px 20px;
    }
    .container {
      background: white;
      border-radius: 16px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      width: 600px;
      padding: 40px 30px;
      box-sizing: border-box;
    }
    h1, h2, h3 {
      color: #222;
    }
    h1 {
      font-size: 28px;
      margin-bottom: 24px;
    }
    h2.section-title {
      margin-top: 36px;
      font-size: 22px;
      border-bottom: 2px solid #0078d7;
      padding-bottom: 6px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
      font-size: 15px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    thead {
      background-color: #0078d7;
      color: white;
    }
    ul {
      margin-top: 8px;
      padding-left: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="classTitle">시간표 및 수행평가</h1>
    <div id="schedule"></div>
  </div>

  <script>
    // 테스트용 강제 설정
    localStorage.setItem('loggedInUser', '홍길동');
    localStorage.setItem('selectedClass', '1-1');

    const selectedClass = localStorage.getItem('selectedClass');
    document.getElementById("classTitle").textContent = `${selectedClass} 반 시간표`;

    const timetable = {
      "1-1": {
        "월요일": ["자율", "역사", "과4", "수1", "사4", "체육", "영3"],
        "화요일": ["수1", "역사", "영2", "과3", "국2", "음악", "사2"],
        "수요일": ["사1", "국1", "영1", "수2", "실험", "진2"],
        "목요일": ["수1", "국3", "과1", "체육", "진1", "영4"],
        "금요일": ["사3", "음악", "과2", "역사", "국4", "창체"]
      }
    };

    const tasks = {
      "1-1": ["국어 수행평가: 6월 10일", "수학 수행평가: 7월 15일"]
    };

    const container = document.getElementById("schedule");

    if (timetable[selectedClass]) {
      const days = ["월요일", "화요일", "수요일", "목요일", "금요일"];
      let html = `<table><thead><tr><th>교시</th>`;
      days.forEach(d => html += `<th>${d}</th>`);
      html += `</tr></thead><tbody>`;

      for (let i = 0; i < 7; i++) {
        html += `<tr><td>${i+1}교시</td>`;
        days.forEach(day => {
          html += `<td>${timetable[selectedClass][day]?.[i] || ""}</td>`;
        });
        html += `</tr>`;
      }
      html += `</tbody></table>`;
      container.innerHTML += html;
    } else {
      container.innerHTML += "<p>시간표가 없습니다.</p>";
    }

    if (tasks[selectedClass]) {
      container.innerHTML += "<h2 class='section-title'>수행평가 일정</h2><ul>";
      tasks[selectedClass].forEach(task => {
        container.innerHTML += `<li>${task}</li>`;
      });
      container.innerHTML += "</ul>";
    } else {
      container.innerHTML += "<p>수행평가 일정이 없습니다.</p>";
    }

    // 교무실 자리
    container.innerHTML += `
      <h2 class="section-title">교무실 자리 배치표</h2>
      <table>
        <tr><th>자리</th><th>담당 교사</th><th>과목</th></tr>
        <tr><td>1번</td><td>홍길동</td><td>국어</td></tr>
        <tr><td>2번</td><td>김철수</td><td>수학</td></tr>
      </table>
    `;

    // 학교 배치도
    const layout = {
      "1층": ["시청각실", "보건실", "진로진학상담실"],
      "2층": ["1학년 교실", "AI융합실"],
      "3층": ["3학년 교실", "미술실"],
      "기타": ["체육관", "급식실", "운동장"]
    };

    container.innerHTML += `<h2 class="section-title">학교 전체 배치도</h2>`;
    for (let floor in layout) {
      container.innerHTML += `<h3>${floor}</h3><ul>`;
      layout[floor].forEach(room => container.innerHTML += `<li>${room}</li>`);
      container.innerHTML += "</ul>";
    }

    // 학사 일정
    const academic = {
      "6월": ["06.03: 대통령 선거", "06.05: 개교기념일"],
      "7월": ["07.01~04: 지필평가", "07.15: 학생회 선거"],
      "8월": ["08.13: 개학", "08.15: 광복절"],
    };

    container.innerHTML += `<h2 class="section-title">학사 일정</h2>`;
    for (let month in academic) {
      container.innerHTML += `<h3>${month}</h3><ul>`;
      academic[month].forEach(event => container.innerHTML += `<li>${event}</li>`);
      container.innerHTML += "</ul>";
    }
  </script>
</body>
</html>
